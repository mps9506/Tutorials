[
["index.html", "Practical R Applications in Water Resources Prerequisites Install R Install RStudio Familiarity with R and RStudio Suggested Packages Contributions and Editing", " Practical R Applications in Water Resources Michael Schramm 2020-09-24 Prerequisites This is not intended to be a primer or introduction to programming or R. Instead, this is a cookbook of sorts to help guide users to applying R in the context of our water resources work. External resources for those interested in the basics are provided below (Familiarity with R and RStudio). A few things required before getting startedâ€¦ Install R Download and install the newest version of R for your platform at: https://cloud.r-project.org/. For Windows: click on â€œDownload R for Windowsâ€ click on â€œbaseâ€ click the download link at the top of the page open the downloaded R-4.x.x.exe file and follow the prompts For macOS: click on â€œDownload R for (Mac) OS Xâ€ Under â€œLatest release:â€ click on R-4.x.x.pkg For Linux: click â€œDownload R for Linuxâ€ and choose the appropriate distribution Install RStudio Install the latest version of Rstudio Desktop for your platform at: https://rstudio.com/products/rstudio/download/#download Familiarity with R and RStudio This text assume some basic familiarity with R and RStudio. At minimum you should know how to start a project in RStudio, have a basic understanding of R packages and functionsâ€¦ If you are completely new to using R I recommend a few resources below: https://tinystats.github.io/teacups-giraffes-and-statistics/ - Great if you are completely new to programming, also provides some foundational stats training. https://rstudio.cloud/learn/primers - This provides self-paced, interactive, fundamental R programming exercises. Adventures in R - Another self-paced set of videos and excercies. This has a good introduction to the RStudio IDE. Suggested Packages This text will use the tidyverse set of packages throughout. install.pacakges(&quot;tidyverse&quot;) Sections on spatial analysis will utilize sf and raster. install.pacakges(c(&quot;sf&quot;, &quot;raster&quot;)) Contributions and Editing This text is rendered using bookdown and GitHub Actions (Xie 2016). This means you can submit issues, add code, or copy and render the book on your own system. The project is located on GitHub. If you clone the project into your RStudio session, the book can be rendered as local website using: bookdown::render_book(&quot;index.Rmd&quot;) Navigate to the \\_book subdirectory and open index.html to see the book. Furthermore, a pdf copy of the book can be generated using: bookdown::render_book(&quot;index.Rmd&quot;, &quot;bookdown::pdf_book&quot;) Navigate to the \\_book subdirectory and open book.pdf. References "],
["data.html", "Chapter 1 Loading and Formatting Data 1.1 Rectangular data 1.2 Formatting Data 1.3 USGS and EPA Data 1.4 Online Data Sources 1.5 Project Workflows", " Chapter 1 Loading and Formatting Data library(tidyverse) ## â”€â”€ [1mAttaching packages[22m â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse 1.3.0 â”€â”€ ## [32mâœ”[39m [34mggplot2[39m 3.3.2 [32mâœ”[39m [34mpurrr [39m 0.3.4 ## [32mâœ”[39m [34mtibble [39m 3.0.3 [32mâœ”[39m [34mdplyr [39m 1.0.2 ## [32mâœ”[39m [34mtidyr [39m 1.1.2 [32mâœ”[39m [34mstringr[39m 1.4.0 ## [32mâœ”[39m [34mreadr [39m 1.3.1 [32mâœ”[39m [34mforcats[39m 0.5.0 ## â”€â”€ [1mConflicts[22m â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse_conflicts() â”€â”€ ## [31mâœ–[39m [34mdplyr[39m::[32mfilter()[39m masks [34mstats[39m::filter() ## [31mâœ–[39m [34mdplyr[39m::[32mlag()[39m masks [34mstats[39m::lag() Text files (csv, delimited, ) Excel Relational databases Stat software (SAS SPSS Stata) Spatial (shapefiles, raster, etc) Reading data into R is generally the first step in any project workflow. The easiest format to get data into R is from a .csv or similar text file. However, there are functions to read data from Excel, relational databases, and some proprietary statistical software packages. There are also functions for readining in spatial data such as shapefiles or raster files, this is covered in â€¦ 1.1 Rectangular data Rectangular data generally refers to data stored as a table, rows and columns, or matrix. This is probably the most typical format of data we are reading into R. 1.2 Formatting Data Most analysis and plotting functions in R prefer something called tidy data. The concept of tidy data can be difficult to grasp since we often donâ€™t record data in a tidy format. Table ?? is an example of how data is often recorded in a spreadsheet. Notice that the is a row for the data of every observation, but there is also a column for each water quality parameter. In the example, there are four observations per row. Table 1.1: Example of wide data format Date Nitrogen Phosphorus Ecoli Flow 2020-01-01 0.30 0.00 126 3377 2020-01-16 0.33 0.00 68 233 2020-01-31 0.13 0.03 113 1738 2020-02-15 0.25 0.04 722 32229 2020-03-01 0.26 0.02 33 120 Tidy data is alos often called long data. The goal is to get one observation per row and each column should be a covariate. In this case, we probably want a column of water quality paramater observations (Nitrogen, Phosphorus, E. coli), a column with flow values (a covariate), and a column with the observation date for the water quality parameter. You can label chapter and section titles using {#label} after them, e.g., we can reference Chapter 1. If you do not manually label them, there will be automatic labels anyway, e.g., Chapter 3. Figures and tables with captions will be placed in figure and table environments, respectively. par(mar = c(4, 4, .1, .1)) plot(pressure, type = &#39;b&#39;, pch = 19) Figure 1.1: Here is a nice figure! Reference a figure by its code chunk label with the fig: prefix, e.g., see Figure 1.1. Similarly, you can reference tables generated from knitr::kable(), e.g., see Table 1.2. knitr::kable( head(iris, 20), caption = &#39;Here is a nice table!&#39;, booktabs = TRUE ) Table 1.2: Here is a nice table! Sepal.Length Sepal.Width Petal.Length Petal.Width Species 5.1 3.5 1.4 0.2 setosa 4.9 3.0 1.4 0.2 setosa 4.7 3.2 1.3 0.2 setosa 4.6 3.1 1.5 0.2 setosa 5.0 3.6 1.4 0.2 setosa 5.4 3.9 1.7 0.4 setosa 4.6 3.4 1.4 0.3 setosa 5.0 3.4 1.5 0.2 setosa 4.4 2.9 1.4 0.2 setosa 4.9 3.1 1.5 0.1 setosa 5.4 3.7 1.5 0.2 setosa 4.8 3.4 1.6 0.2 setosa 4.8 3.0 1.4 0.1 setosa 4.3 3.0 1.1 0.1 setosa 5.8 4.0 1.2 0.2 setosa 5.7 4.4 1.5 0.4 setosa 5.4 3.9 1.3 0.4 setosa 5.1 3.5 1.4 0.3 setosa 5.7 3.8 1.7 0.3 setosa 5.1 3.8 1.5 0.3 setosa You can write citations, too. For example, we are using the bookdown package (Xie 2020) in this sample book, which was built on top of R Markdown and knitr (Xie 2015). 1.3 USGS and EPA Data USGS provides R functions to retrieve and load streamflow and water quality data directly to R through the dataRetrieval package (De Cicco et al. 2018). 1.4 Online Data Sources Use APIs (TWDB example) 1.5 Project Workflows Discuss project structure, storing raw data seperately, using scripts to download and save data locally one time, References "],
["summarize-and-visualize-data.html", "Chapter 2 Summarize and Visualize Data", " Chapter 2 Summarize and Visualize Data Here is a review of existing methods. "],
["methods.html", "Chapter 3 Methods", " Chapter 3 Methods We describe our methods in this chapter. "],
["applications.html", "Chapter 4 Applications 4.1 Example one 4.2 Example two", " Chapter 4 Applications Some significant applications are demonstrated in this chapter. 4.1 Example one 4.2 Example two "],
["final-words.html", "Chapter 5 Final Words", " Chapter 5 Final Words We have finished a nice book. "],
["references.html", "References", " References De Cicco, Laura A., David Lorenz, Robert M. Hirsch, and William Watkins. 2018. DataRetrieval: R Packages for Discovering and Retrieving Water Data Available from U.s. Federal Hydrologic Web Services (version 2.7.6). Reston, VA: U.S. Geological Survey; U.S. Geological Survey. https://doi.org/10.5066/P9X4L3GE. Xie, Yihui. 2015. Dynamic Documents with R and Knitr. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. http://yihui.org/knitr/. â€”â€”â€”. 2016. Bookdown: Authoring Books and Technical Documents with R Markdown. Boca Raton, Florida: Chapman; Hall/CRC. https://github.com/rstudio/bookdown. â€”â€”â€”. 2020. Bookdown: Authoring Books and Technical Documents with R Markdown. https://CRAN.R-project.org/package=bookdown. "]
]
